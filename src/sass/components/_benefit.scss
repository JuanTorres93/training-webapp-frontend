@use "../abstracts" as *;

.benefit {
    perspective: 100rem;
    filter: drop-shadow(0 .5rem 1rem rgba($color-black, 0.15));

    position: relative;
    z-index: 10;
    $shared-transition: all .4s ease-in;

    transition: $shared-transition;

    $middle-polygon: polygon(75% 0%, 100% 50%, 75% 100%, 0% 100%, 25% 50%, 0% 0%);

    &:hover {
        transform: translateY(-1.6rem) scale(1.1);
        filter: drop-shadow(0 1rem 2rem rgba($color-black, 0.3));

        z-index: 20;
    }

    &:hover &__front-side {
        transform: rotateX(180deg);
    }

    &:hover &__back-side {
        transform: rotateX(360deg);
    }

    &__shape {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex-basis: 100%;
        height: 100%;
        padding: 10rem 0;
        transition: $shared-transition;

        $padding-before-and-after: 6rem;
        $overlay: linear-gradient(to right bottom,
                rgba($color-primary-light, 0.7),
                rgba($color-primary-light, 0.7));

        &--1 {
            &.benefit {
                &__front-side {
                    // TODO change image
                    background-image: $overlay, url('../../public/images/CTA3.png');
                    background-size: cover;
                }

                &__back-side {

                    // TODO change image
                    &::before {
                        @include image-in-backside('../../public/images/CTA3.png',
                            $overlay);
                    }
                }
            }
        }

        &--2 {
            &.benefit {
                &__front-side {
                    // TODO change image
                    background-image: $overlay, url('../../public/images/CTA2.png');
                    background-size: cover;
                }

                &__back-side {
                    &::before {
                        // TODO change image
                        @include image-in-backside('../../public/images/CTA2.png',
                            $overlay);
                    }
                }
            }
        }

        &--3 {
            &.benefit {
                &__front-side {
                    // TODO change image
                    background-image: $overlay, url('../../public/images/CTA3.png');
                    background-size: cover;
                }

                &__back-side {

                    // TODO change image
                    &::before {
                        @include image-in-backside('../../public/images/CTA3.png',
                            $overlay);
                    }
                }
            }
        }

        &--4 {
            &.benefit {
                &__front-side {
                    // TODO change image
                    background-image: $overlay, url('../../public/images/CTA1.png');
                    background-size: cover;
                }

                &__back-side {

                    // TODO change image
                    &::before {
                        @include image-in-backside('../../public/images/CTA1.png',
                            $overlay);
                    }
                }
            }
        }

        &--start {
            clip-path: polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%);
            padding-left: $padding-before-and-after;
            align-items: flex-start;
        }

        &--middle {
            clip-path: $middle-polygon;
        }

        &--end {
            clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%, 25% 50%);
            padding-right: $padding-before-and-after;
            align-items: flex-end;
        }
    }

    &__list {
        display: block;
        font-size: 1.8rem;
        list-style: none;
    }

    &__title {
        display: block;
        font-size: 2.5rem;
        font-weight: 500;
    }

    &__front-side,
    &__back-side {
        backface-visibility: hidden;
    }

    &__back-side {
        position: absolute;
        transform: rotateX(180deg);
        top: 0;
        left: 0;
        width: 100%;
    }
}